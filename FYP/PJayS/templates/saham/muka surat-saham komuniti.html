{% extends "layout.html" %}

{% block title %}
  Saham - PJays KoopSystem
{% endblock %}

{% block content %}
    <div class="pagetitle">
      <h1>Saham Komuniti</h1>
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item">Muka Surat</li>
          <li class="breadcrumb-item active">Saham Komuniti</li>
        </ol>
      </nav>
    </div><!-- Penutup Page Title -->

    <section class="section">
      
      <div class="row">
        <!-- Saham -->
        <div class="col-lg-12">
          <div class="card">

            <div class="filter">
              <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                <li><a class="dropdown-item" href="#">Lagi</a></li>
              </ul>
            </div>

            <div class="card-body">
              <h5 class="card-title">Jumlah Saham <span>| Tahun Ini</span></h5>

              <!-- Area Chart -->
              <div id="areaChart"></div>

              <script>
                document.addEventListener("DOMContentLoaded", () => {
                  const series = {
                    "monthDataSeries1": {
                      "prices": [
                        8107.85,
                        8128.0,
                        8122.9,
                        8165.5,
                        8340.7,
                        8423.7,
                        8423.5,
                        8514.3,
                        8481.85,
                        8487.7,
                        8506.9,
                        8626.2,
                        8668.95,
                        8602.3,
                        8607.55,
                        8512.9,
                        8496.25,
                        8600.65,
                        8881.1,
                        9340.85
                      ],
                      "dates": [
                        "13 Nov 2017",
                        "14 Nov 2017",
                        "15 Nov 2017",
                        "16 Nov 2017",
                        "17 Nov 2017",
                        "20 Nov 2017",
                        "21 Nov 2017",
                        "22 Nov 2017",
                        "23 Nov 2017",
                        "24 Nov 2017",
                        "27 Nov 2017",
                        "28 Nov 2017",
                        "29 Nov 2017",
                        "30 Nov 2017",
                        "01 Dec 2017",
                        "04 Dec 2017",
                        "05 Dec 2017",
                        "06 Dec 2017",
                        "07 Dec 2017",
                        "08 Dec 2017"
                      ]
                    }
                  }
                  new ApexCharts(document.querySelector("#areaChart"), {
                    series: [{
                      name: "STOCK ABC",
                      data: series.monthDataSeries1.prices
                    }],
                    chart: {
                      type: 'area',
                      height: 350,
                      zoom: {
                        enabled: false
                      }
                    },
                    dataLabels: {
                      enabled: false
                    },
                    stroke: {
                      curve: 'straight'
                    },
                    subtitle: {
                      text: 'Pergerakan Harga',
                      align: 'left'
                    },
                    labels: series.monthDataSeries1.dates,
                    xaxis: {
                      type: 'datetime',
                    },
                    yaxis: {
                      opposite: true
                    },
                    legend: {
                      horizontalAlign: 'left'
                    }
                  }).render();
                });
              </script>
              <!-- Penutup Area Chart -->

            </div>
          </div>
        </div><!-- Penutup Saham -->

        <div class="col-lg-4">

          <!-- Pie Saham -->
          <div class="card">

            <div class="card-body pb-0">
              <h5 class="card-title">Jumlah Saham bagi Setiap Komuniti <span>| Tahun Ini</span></h5>
              <!-- Table container with scrollpane -->
              <div class="table-scrollpane">
                <div id="sahamPieChart" style="min-height: 416px;" class="echart"></div>

                <script>
                  document.addEventListener("DOMContentLoaded", () => {
                    echarts.init(document.querySelector("#sahamPieChart")).setOption({
                      tooltip: {
                        trigger: 'item',
                        formatter: function (params) {
                          return `${params.name}: RM ${params.value}`;
                        }
                      },
                      legend: {
                        top: '5%',
                        left: 'center'
                      },
                      series: [{
                        name: 'Akses Dari',
                        type: 'pie',
                        radius: ['40%', '70%'],
                        avoidLabelOverlap: false,
                        label: {
                          show: false,
                          position: 'center'
                        },
                        emphasis: {
                          label: {
                            show: true,
                            fontSize: '18',
                            fontWeight: 'bold'
                          }
                        },
                        labelLine: {
                          show: false
                        },
                        data: [{
                            value: 6850,
                            name: 'Pelajar'
                          },
                          {
                            value: 2800,
                            name: 'Kakitangan'
                          }
                        ]
                      }]
                    });
                  });
                </script>

              </div>
            </div>
          </div><!-- End Pie Saham -->
          
        </div>


        <div class="col-lg-8">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Jumlah Saham Tahunan Pelajar</h5>
              <!-- Table container with scrollpane -->
              <div class="table-scrollpane">
                <!-- Vertical Saham Bar -->
                <div id="verticalBarChart" style="min-height: 400px;" class="echart"></div>

                <script>
                  document.addEventListener("DOMContentLoaded", () => {
                    echarts.init(document.querySelector("#verticalBarChart")).setOption({
                      title: {
                        text: 'Mengikut Tingkatan (RM)'
                      },
                      tooltip: {
                        trigger: 'axis',
                        axisPointer: {
                          type: 'shadow'
                        }
                      },
                      legend: {},
                      grid: {
                        left: '3%',
                        right: '4%',
                        bottom: '3%',
                        containLabel: true
                      },
                      xAxis: {
                        type: 'value',
                        boundaryGap: [0, 0.01]
                      },
                      yAxis: {
                        type: 'category',
                        data: ['Tingkatan 1', 'Tingkatan 2', 'Tingkatan 3', 'Tingkatan 4', 'Tingkatan 5']
                      },
                      series: [{
                          name: '2021',
                          type: 'bar',
                          data: [5000, 6000, 7000, 8000, 9000]
                        },
                        {
                          name: '2022',
                          type: 'bar',
                          data: [5500, 6500, 7500, 8500, 9500]
                        },
                        {
                          name: '2023',
                          type: 'bar',
                          data: [6000, 7000, 8000, 9000, 10000]
                        }
                      ]
                    });
                  });
                </script>
                <!-- End Vertical Saham Bar -->

              </div>
            </div>
          </div>
        </div>

        
        <!-- Saham -->
        <div class="col-lg-12">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Maklumat Saham Kakitangan</h5>
              <!-- Table container with scrollpane -->
              <div class="table-scrollpane">
                <!-- Table with stripped rows -->
                <table class="table datatable">
                  <thead>
                    <tr>
                        <th>ID Teacher</th>
                        <th>Nama</th>
                        <th>Modal Syer(RM)</th>
                        <th data-type="date" data-format="MM/DD/YYYY">Tarik Pendaftaran</th>
                      <th>Tindakan</th>
                    </tr>
                  </thead>
                  <tbody>
                    {% for teacher in teacher %}
                    <tr>
                        <td>{{ teacher.teacher_id }}</td>\
                        <td>{{ teacher.nama }}</td>
                        <td>{{ teacher.modal_syer }}</td>
                        <td>{{ teacher.tarikh_daftar }}</td>
                      <td>
                        <form method="POST" action="">
                          {% csrf_token %}
                          <button type="submit"  class="btn btn-primary">Kemas Kini</button>
                        </form>
                      </td> <!-- Button yang menyimpan id cikgu untuk displaykan di form -->
                    </tr>
                  {% endfor %}
                    <!-- Repeat the rows for other students -->

                  </tbody>
                  
                </table>
                <!-- End Table with stripped rows -->
              </div>
          
            </div>
          </div>
        </div> 

        <!-- Saham -->
        <div class="col-lg-12">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Maklumat Saham Pelajar</h5>
              <!-- Table container with scrollpane -->
              <div class="table-scrollpane">
                <!-- Table with stripped rows -->
                <table class="table datatable">
                  <thead>
                    <tr>
<<<<<<< HEAD
                      <th>ID STUDENT</th>
                      <th>Nama</th>
                      <th>Modal Syer (RM)</th>
                      <th>Tarikh Pendaftaran</th>
=======
                        <th>ID Member</th>
                        <th>Nama</th>
                        <th>Modal Syer(RM)</th>
                        <th data-type="date" data-format="MM/DD/YYYY">Tarik Pendaftaran</th>
>>>>>>> 82ed8c4564276c6b8848f5d9b6107f2417360072
                      <th>Tindakan</th>
                    </tr>
                  </thead>
                  <tbody>
<<<<<<< HEAD
                    {% for member in member %}
                    <tr>
                      <td>{{ member.member_id }}</td>
                      <td>{{ member.nama }}</td>
                      <td>{{ member.modal_syer }}</td>
                      <td>{{ member.tarikh_daftar }}</td>
                      <td>
                        <form method="POST" action="">
=======
                    {% for teacher in teacher %}
                    <tr>
                        <td>{{ teacher.teacher_id}}</td>\
                        <td>{{ teacher.nama }}</td>
                        <td>{{ teacher.modal_syer }}</td>
                        <td>{{ teacher.tarikh_daftar }}</td>
                      <td>
                        <form method="POST" action="{% url 'edit_teacher' teacher.teacher_id %}">
>>>>>>> 82ed8c4564276c6b8848f5d9b6107f2417360072
                          {% csrf_token %}
                          <button type="submit"  class="btn btn-primary">Tambah Saham</button>
                        </form>
                      </td> <!-- Button yang menyimpan id cikgu untuk displaykan di form -->
                    </tr>
                  {% endfor %}
                    <!-- Repeat the rows for other students -->

                  </tbody>
                  
                </table>
                <!-- End Table with stripped rows -->
              </div>
          
            </div>
          </div>
        </div>


      </div>
    </div>
  </section>
{% endblock content %}